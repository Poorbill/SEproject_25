(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5b653ca4"],{6840:function(e,t,a){"use strict";var n=a("cabc"),r=a.n(n);r.a},"69a4":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"date-box"},[a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("span",{staticClass:"cc"},[e._v("请输入日期")]),e._v(" "),a("el-date-picker",{attrs:{type:"daterange",size:"large",align:"right","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}})],1),e._v(" "),a("div",{staticClass:"chart-container"},[a("chart",{attrs:{height:"100%",width:"100%"}})],1)])},r=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width},attrs:{id:e.id}})},s=[],o=(a("7f7f"),a("313e")),l=a.n(o),c=a("f42c"),d=a("b775");function h(){return Object(d["a"])({url:"/charts/map",method:"get"})}var u={mixins:[c["a"]],props:{className:{type:String,default:"chart"},id:{type:String,default:"chart"},width:{type:String,default:"200px"},height:{type:String,default:"200px"}},data:function(){return{chart:null,map:null}},mounted:function(){this.initChart()},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){var e=this;h().then((function(t){e.map=t.data,console.log(e.map),l.a.registerMap("pingshan",e.map),e.chart=l.a.init(document.getElementById(e.id));var a=[{name:"散点1",value:100},{name:"散点2",value:80},{name:"散点3",value:33},{name:"散点4",value:27},{name:"散点5",value:175},{name:"散点6",value:15}],n={"散点1":[114.397293,22.675348],"散点2":[114.361613,22.730141],"散点3":[114.373628,22.710752],"散点4":[114.362504,22.659267],"散点5":[114.352641,22.697439],"散点6":[114.330069,22.693539]},r=function(e){for(var t=[],a=0;a<e.length;a++){var r=n[e[a].name];r&&t.push({name:e[a].name,value:r.concat(e[a].value)})}return console.log(t),t};e.chart.setOption({backgroundColor:"#031f2d",title:{text:"热点社区",left:"center",top:"5%",padding:[24,0],textStyle:{color:"#fff",fontSize:18,align:"center"}},tooltip:{trigger:"item",formatter:function(e){var t=e.data,a=t.name+"<br>事件数:"+t.value[2];return a}},geo:{show:!0,map:"pingshan",label:{normal:{show:!1},emphasis:{show:!1}},roam:!1,itemStyle:{normal:{areaColor:"#47D1FF",borderColor:"#3B5077"},emphasis:{areaColor:"#2B91B7"}},zoom:1.2},series:[{name:"事件数",type:"effectScatter",effectType:"ripple",showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},coordinateSystem:"geo",map:"pingshan",data:r(a),symbolSize:function(e){return e[2]/10},hoverAnimation:!0,label:{normal:{formatter:"{b}",position:"right",show:!1},emphasis:{show:!0}},itemStyle:{normal:{color:"#ff8003"}}},{name:"热点社区",type:"map",maptype:"pingshan",geoIndex:0,aspectScale:.75}]})}))}}},m=u,p=a("2877"),f=Object(p["a"])(m,i,s,!1,null,null,null),v=f.exports,b={name:"HotCommunities",components:{Chart:v},data:function(){return{value1:""}}},g=b,_=(a("6840"),Object(p["a"])(g,n,r,!1,null,"530b5a2a",null));t["default"]=_.exports},cabc:function(e,t,a){},f42c:function(e,t,a){"use strict";var n=a("ed08");t["a"]={data:function(){return{$_sidebarElm:null}},mounted:function(){var e=this;this.__resizeHandler=Object(n["a"])((function(){e.chart&&e.chart.resize()}),100),window.addEventListener("resize",this.__resizeHandler),this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},beforeDestroy:function(){window.removeEventListener("resize",this.__resizeHandler),this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)},methods:{$_sidebarResizeHandler:function(e){"width"===e.propertyName&&this.__resizeHandler()}}}}}]);