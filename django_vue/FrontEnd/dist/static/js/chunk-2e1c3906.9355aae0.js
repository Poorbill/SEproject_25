(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2e1c3906"],{"2f21":function(e,t,l){"use strict";var r=l("79e5");e.exports=function(e,t){return!!e&&r((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},"3f2d":function(e,t,l){},"55dd":function(e,t,l){"use strict";var r=l("5ca1"),a=l("d8e8"),s=l("4bf8"),i=l("79e5"),y=[].sort,f=[1,2,3];r(r.P+r.F*(i((function(){f.sort(void 0)}))||!i((function(){f.sort(null)}))||!l("2f21")(y)),"Array",{sort:function(e){return void 0===e?y.call(s(this)):y.call(s(this),a(e))}})},"69a4":function(e,t,l){"use strict";l.r(t);var r=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"chart-container"},[l("chart",{attrs:{height:"100%",width:"100%"}})],1)},a=[],s=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"chart-box"},[l("div",{staticClass:"date-box"},[l("br"),e._v(" "),l("span",{staticClass:"hot"},[e._v(" 热点社区")]),e._v(" "),l("el-select",{attrs:{placeholder:"所有月份"},on:{change:e.Change},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),e._v(" "),l("span",[e._v("    ")]),e._v(" "),l("el-date-picker",{attrs:{type:"daterange",align:"right","value-format":"yyyyMMdd","start-placeholder":"2018-02-08","end-placeholder":"2018-12-01","picker-options":e.pickerOptions,"default-value":e.timeDefaultShow},on:{change:function(t){return e.getMyDateTime()}},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}})],1),e._v(" "),l("div",{class:e.className,style:{height:e.height,width:e.width},attrs:{id:e.id}})])},i=[],y=(l("55dd"),l("7f7f"),l("f42c")),f=(l("95d56"),l("bc3a")),o=l.n(f),n=[{name:"南布社区",value:0},{name:"和平社区",value:0},{name:"坪山社区",value:0},{name:"汤坑社区",value:0},{name:"金沙社区",value:0},{name:"江岭社区",value:0},{name:"石井社区",value:0},{name:"六和社区",value:0},{name:"沙湖社区",value:0},{name:"老坑社区",value:0},{name:"竹坑社区",value:0},{name:"秀新社区",value:0},{name:"沙田社区",value:0},{name:"六联社区",value:0},{name:"坪环社区",value:0},{name:"龙田社区",value:0},{name:"坑梓社区",value:0},{name:"沙坣社区",value:0},{name:"田头社区",value:0},{name:"田心社区",value:0},{name:"碧岭社区",value:0},{name:"金龟社区",value:0},{name:"马峦社区",value:0}],p={"南布社区":[114.375607,22.70534],"和平社区":[114.35559,22.698584],"坪山社区":[114.35559,22.694636],"汤坑社区":[114.331079,22.678805],"金沙社区":[114.408079,22.743131],"江岭社区":[114.362596,22.69202],"石井社区":[114.390978,22.697625],"六和社区":[114.349914,22.707919],"沙湖社区":[114.326552,22.67909],"老坑社区":[114.369312,22.734866],"竹坑社区":[114.395074,22.715773],"秀新社区":[114.381223,22.746873],"沙田社区":[114.404444,22.761764],"六联社区":[114.332971,22.795219],"坪环社区":[114.355763,22.687757],"龙田社区":[114.372841,22.753347],"坑梓社区":[114.390013,22.753031],"沙坣社区":[114.373122,22.692444],"田头社区":[114.410837,22.697197],"田心社区":[114.421943,22.700351],"碧岭社区":[114.295663,22.67342],"金龟社区":[114.406461,22.663744],"马峦社区":[114.338203,22.644538]},u={mixins:[y["a"]],props:{className:{type:String,default:"chart"},id:{type:String,default:"chart"},width:{type:String,default:"200px"},height:{type:String,default:"200px"}},data:function(){return{value:"",options:[{value:["20180101","20180131"],label:"1月份"},{value:["20180201","20180229"],label:"2月份"},{value:["20180301","20180331"],label:"3月份"},{value:["20180401","20180430"],label:"4月份"},{value:["20180501","20180531"],label:"5月份"},{value:["20180601","20180630"],label:"6月份"},{value:["20180701","20180731"],label:"7月份"},{value:["20180801","20180831"],label:"8月份"},{value:["20180901","20180930"],label:"9月份"},{value:["20181001","20181031"],label:"10月份"},{value:["20181101","20181130"],label:"11月份"},{value:["20181201","20181230"],label:"12月份"}],timeDefaultShow:new Date("2018-02-08"),chart:null,value1:"",pickerOptions:{disabledDate:function(e){var t=new Date(Date.UTC(2018,1,7,0,0,0)),l=new Date(Date.UTC(2018,11,30,0,0,0));return console.log(Date.now()),console.log(t),e.getTime()<t||e.getTime()>l}}}},mounted:function(){this.initChart()},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{Change:function(){this.value1=this.value,this.getMyDateTime()},getMyDateTime:function(){var e=this;o.a.get("/api/get_hotcommunity",{params:{date1:this.value1[0],date2:this.value1[1]}}).then((function(t){e.chart=echarts.init(document.getElementById(e.id));for(var l=0;l<22;l++)n[l].value=t.data[n[l].name];var r=function(e){for(var t=[],l=0;l<e.length;l++){var r=p[e[l].name];r&&t.push({name:e[l].name,value:r.concat(e[l].value)})}return t},a=r(n);console.log(a),e.chart.setOption({backgroundColor:"transparent",tooltip:{trigger:"item",formatter:function(e,t,l){var r=e.name+"<br/>";return r=r+"事件数量: "+e.value[2],r}},bmap:{center:[114.34632,22.7084],zoom:13,roam:!0,mapStyle:{styleJson:[{featureType:"land",elementType:"geometry",stylers:{visibility:"on",color:"#091220ff"}},{featureType:"water",elementType:"geometry",stylers:{visibility:"on",color:"#113549ff"}},{featureType:"green",elementType:"geometry",stylers:{visibility:"on",color:"#0e1b30ff"}},{featureType:"building",elementType:"geometry",stylers:{visibility:"on"}},{featureType:"building",elementType:"geometry.fill",stylers:{color:"#aaaaacb3"}},{featureType:"building",elementType:"geometry.stroke",stylers:{color:"#dadadab3"}},{featureType:"subwaystation",elementType:"geometry",stylers:{visibility:"on",color:"#b15454B2"}},{featureType:"education",elementType:"geometry",stylers:{visibility:"on",color:"#e4f1f1ff"}},{featureType:"medical",elementType:"geometry",stylers:{visibility:"on",color:"#f0dedeff"}},{featureType:"scenicspots",elementType:"geometry",stylers:{visibility:"on",color:"#e2efe5ff"}},{featureType:"highway",elementType:"geometry",stylers:{visibility:"on",weight:3}},{featureType:"highway",elementType:"geometry.fill",stylers:{color:"#f7c54dff"}},{featureType:"highway",elementType:"geometry.stroke",stylers:{color:"#fed669ff"}},{featureType:"highway",elementType:"labels",stylers:{visibility:"on"}},{featureType:"highway",elementType:"labels.text.fill",stylers:{color:"#8f5a33ff"}},{featureType:"highway",elementType:"labels.text.stroke",stylers:{color:"#ffffffff"}},{featureType:"highway",elementType:"labels.icon",stylers:{visibility:"on"}},{featureType:"arterial",elementType:"geometry",stylers:{visibility:"on",weight:2}},{featureType:"arterial",elementType:"geometry.fill",stylers:{color:"#d8d8d8ff"}},{featureType:"arterial",elementType:"geometry.stroke",stylers:{color:"#ffeebbff"}},{featureType:"arterial",elementType:"labels",stylers:{visibility:"on"}},{featureType:"arterial",elementType:"labels.text.fill",stylers:{color:"#525355ff"}},{featureType:"arterial",elementType:"labels.text.stroke",stylers:{color:"#ffffffff"}},{featureType:"local",elementType:"geometry",stylers:{visibility:"on",weight:1}},{featureType:"local",elementType:"geometry.fill",stylers:{color:"#d8d8d8ff"}},{featureType:"local",elementType:"geometry.stroke",stylers:{color:"#ffffffff"}},{featureType:"local",elementType:"labels",stylers:{visibility:"on"}},{featureType:"local",elementType:"labels.text.fill",stylers:{color:"#979c9aff"}},{featureType:"local",elementType:"labels.text.stroke",stylers:{color:"#ffffffff"}},{featureType:"railway",elementType:"geometry",stylers:{visibility:"on",weight:1}},{featureType:"railway",elementType:"geometry.fill",stylers:{color:"#123c52ff"}},{featureType:"railway",elementType:"geometry.stroke",stylers:{color:"#12223dff"}},{featureType:"subway",elementType:"geometry",stylers:{visibility:"on",weight:1}},{featureType:"subway",elementType:"geometry.fill",stylers:{color:"#d8d8d8ff"}},{featureType:"subway",elementType:"geometry.stroke",stylers:{color:"#ffffff00"}},{featureType:"subway",elementType:"labels",stylers:{visibility:"on"}},{featureType:"subway",elementType:"labels.text.fill",stylers:{color:"#979c9aff"}},{featureType:"subway",elementType:"labels.text.stroke",stylers:{color:"#ffffffff"}},{featureType:"continent",elementType:"labels",stylers:{visibility:"on"}},{featureType:"continent",elementType:"labels.icon",stylers:{visibility:"on"}},{featureType:"continent",elementType:"labels.text.fill",stylers:{color:"#333333ff"}},{featureType:"continent",elementType:"labels.text.stroke",stylers:{color:"#ffffffff"}},{featureType:"city",elementType:"labels.icon",stylers:{visibility:"on"}},{featureType:"city",elementType:"labels",stylers:{visibility:"on"}},{featureType:"city",elementType:"labels.text.fill",stylers:{color:"#454d50ff"}},{featureType:"city",elementType:"labels.text.stroke",stylers:{color:"#ffffffff"}},{featureType:"town",elementType:"labels.icon",stylers:{visibility:"on"}},{featureType:"town",elementType:"labels",stylers:{visibility:"on"}},{featureType:"town",elementType:"labels.text.fill",stylers:{color:"#454d50ff"}},{featureType:"town",elementType:"labels.text.stroke",stylers:{color:"#ffffffff"}},{featureType:"road",elementType:"geometry.fill",stylers:{color:"#12223dff"}},{featureType:"poilabel",elementType:"labels",stylers:{visibility:"on"}},{featureType:"districtlabel",elementType:"labels",stylers:{visibility:"off"}},{featureType:"road",elementType:"geometry",stylers:{visibility:"on"}},{featureType:"road",elementType:"labels",stylers:{visibility:"off"}},{featureType:"road",elementType:"geometry.stroke",stylers:{color:"#ffffff00"}},{featureType:"district",elementType:"labels",stylers:{visibility:"off"}},{featureType:"poilabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"poilabel",elementType:"labels.text.fill",stylers:{color:"#2dc4bbff"}},{featureType:"poilabel",elementType:"labels.text.stroke",stylers:{color:"#ffffff00"}},{featureType:"manmade",elementType:"geometry",stylers:{color:"#12223dff"}},{featureType:"districtlabel",elementType:"labels.text.stroke",stylers:{color:"#ffffffff"}},{featureType:"entertainment",elementType:"geometry",stylers:{color:"#ffffffff"}},{featureType:"shopping",elementType:"geometry",stylers:{color:"#12223dff"}}]}},series:[{name:"Top 5",type:"effectScatter",coordinateSystem:"bmap",data:r(n.sort((function(e,t){return t.value-e.value})).slice(0,12)),symbolSize:function(e){return e[2]>100?e[2]/20:e[2]<=40?e[2]:e[2]/5},showEffectOn:"render",rippleEffect:{period:4,brushType:"fill",scale:2},hoverAnimation:!0,label:{normal:{formatter:"{b}",position:"right",show:!0},emphasis:{formatter:"{b}: {@[2]}"}},itemStyle:{normal:{color:"#f4e925",shadowBlur:10,shadowColor:"#333"}},zlevel:1}]})}))},initChart:function(){var e=this;o.a.get("/api/get_hotcommunity",{params:{date1:20180208,date2:20181201}}).then((function(t){e.chart=echarts.init(document.getElementById(e.id));for(var l=0;l<22;l++)n[l].value=t.data[n[l].name];var r=function(e){for(var t=[],l=0;l<e.length;l++){var r=p[e[l].name];r&&t.push({name:e[l].name,value:r.concat(e[l].value)})}return t},a=r(n);console.log(a),e.chart.setOption({backgroundColor:"transparent",tooltip:{trigger:"item",formatter:function(e,t,l){var r=e.name+"<br/>";return r=r+"事件数量: "+e.value[2],r}},bmap:{center:[114.34632,22.7084],zoom:13,roam:!0,mapStyle:{styleJson:[{featureType:"land",elementType:"geometry",stylers:{visibility:"on",color:"#091220ff"}},{featureType:"water",elementType:"geometry",stylers:{visibility:"on",color:"#113549ff"}},{featureType:"green",elementType:"geometry",stylers:{visibility:"on",color:"#0e1b30ff"}},{featureType:"building",elementType:"geometry",stylers:{visibility:"on"}},{featureType:"building",elementType:"geometry.fill",stylers:{color:"#aaaaacb3"}},{featureType:"building",elementType:"geometry.stroke",stylers:{color:"#dadadab3"}},{featureType:"subwaystation",elementType:"geometry",stylers:{visibility:"on",color:"#b15454B2"}},{featureType:"education",elementType:"geometry",stylers:{visibility:"on",color:"#e4f1f1ff"}},{featureType:"medical",elementType:"geometry",stylers:{visibility:"on",color:"#f0dedeff"}},{featureType:"scenicspots",elementType:"geometry",stylers:{visibility:"on",color:"#e2efe5ff"}},{featureType:"highway",elementType:"geometry",stylers:{visibility:"on",weight:3}},{featureType:"highway",elementType:"geometry.fill",stylers:{color:"#f7c54dff"}},{featureType:"highway",elementType:"geometry.stroke",stylers:{color:"#fed669ff"}},{featureType:"highway",elementType:"labels",stylers:{visibility:"on"}},{featureType:"highway",elementType:"labels.text.fill",stylers:{color:"#8f5a33ff"}},{featureType:"highway",elementType:"labels.text.stroke",stylers:{color:"#ffffffff"}},{featureType:"highway",elementType:"labels.icon",stylers:{visibility:"on"}},{featureType:"arterial",elementType:"geometry",stylers:{visibility:"on",weight:2}},{featureType:"arterial",elementType:"geometry.fill",stylers:{color:"#d8d8d8ff"}},{featureType:"arterial",elementType:"geometry.stroke",stylers:{color:"#ffeebbff"}},{featureType:"arterial",elementType:"labels",stylers:{visibility:"on"}},{featureType:"arterial",elementType:"labels.text.fill",stylers:{color:"#525355ff"}},{featureType:"arterial",elementType:"labels.text.stroke",stylers:{color:"#ffffffff"}},{featureType:"local",elementType:"geometry",stylers:{visibility:"on",weight:1}},{featureType:"local",elementType:"geometry.fill",stylers:{color:"#d8d8d8ff"}},{featureType:"local",elementType:"geometry.stroke",stylers:{color:"#ffffffff"}},{featureType:"local",elementType:"labels",stylers:{visibility:"on"}},{featureType:"local",elementType:"labels.text.fill",stylers:{color:"#979c9aff"}},{featureType:"local",elementType:"labels.text.stroke",stylers:{color:"#ffffffff"}},{featureType:"railway",elementType:"geometry",stylers:{visibility:"on",weight:1}},{featureType:"railway",elementType:"geometry.fill",stylers:{color:"#123c52ff"}},{featureType:"railway",elementType:"geometry.stroke",stylers:{color:"#12223dff"}},{featureType:"subway",elementType:"geometry",stylers:{visibility:"on",weight:1}},{featureType:"subway",elementType:"geometry.fill",stylers:{color:"#d8d8d8ff"}},{featureType:"subway",elementType:"geometry.stroke",stylers:{color:"#ffffff00"}},{featureType:"subway",elementType:"labels",stylers:{visibility:"on"}},{featureType:"subway",elementType:"labels.text.fill",stylers:{color:"#979c9aff"}},{featureType:"subway",elementType:"labels.text.stroke",stylers:{color:"#ffffffff"}},{featureType:"continent",elementType:"labels",stylers:{visibility:"on"}},{featureType:"continent",elementType:"labels.icon",stylers:{visibility:"on"}},{featureType:"continent",elementType:"labels.text.fill",stylers:{color:"#333333ff"}},{featureType:"continent",elementType:"labels.text.stroke",stylers:{color:"#ffffffff"}},{featureType:"city",elementType:"labels.icon",stylers:{visibility:"on"}},{featureType:"city",elementType:"labels",stylers:{visibility:"on"}},{featureType:"city",elementType:"labels.text.fill",stylers:{color:"#454d50ff"}},{featureType:"city",elementType:"labels.text.stroke",stylers:{color:"#ffffffff"}},{featureType:"town",elementType:"labels.icon",stylers:{visibility:"on"}},{featureType:"town",elementType:"labels",stylers:{visibility:"on"}},{featureType:"town",elementType:"labels.text.fill",stylers:{color:"#454d50ff"}},{featureType:"town",elementType:"labels.text.stroke",stylers:{color:"#ffffffff"}},{featureType:"road",elementType:"geometry.fill",stylers:{color:"#12223dff"}},{featureType:"poilabel",elementType:"labels",stylers:{visibility:"on"}},{featureType:"districtlabel",elementType:"labels",stylers:{visibility:"off"}},{featureType:"road",elementType:"geometry",stylers:{visibility:"on"}},{featureType:"road",elementType:"labels",stylers:{visibility:"off"}},{featureType:"road",elementType:"geometry.stroke",stylers:{color:"#ffffff00"}},{featureType:"district",elementType:"labels",stylers:{visibility:"off"}},{featureType:"poilabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"poilabel",elementType:"labels.text.fill",stylers:{color:"#2dc4bbff"}},{featureType:"poilabel",elementType:"labels.text.stroke",stylers:{color:"#ffffff00"}},{featureType:"manmade",elementType:"geometry",stylers:{color:"#12223dff"}},{featureType:"districtlabel",elementType:"labels.text.stroke",stylers:{color:"#ffffffff"}},{featureType:"entertainment",elementType:"geometry",stylers:{color:"#ffffffff"}},{featureType:"shopping",elementType:"geometry",stylers:{color:"#12223dff"}}]}},series:[{name:"Top 5",type:"effectScatter",coordinateSystem:"bmap",data:r(n.sort((function(e,t){return t.value-e.value})).slice(0,12)),symbolSize:function(e){return e[2]>100?e[2]/20:e[2]<=40?e[2]:e[2]/5},showEffectOn:"render",rippleEffect:{period:4,brushType:"fill",scale:2},hoverAnimation:!0,label:{normal:{formatter:"{b}",position:"right",show:!0},emphasis:{formatter:"{b}: {@[2]}"}},itemStyle:{normal:{color:"#f4e925",shadowBlur:10,shadowColor:"#333"}},zlevel:1}]})}))}}},m=u,c=(l("d598"),l("2877")),T=Object(c["a"])(m,s,i,!1,null,null,null),b=T.exports,d={name:"HotCommunities",components:{Chart:b},data:function(){return{}}},v=d,h=(l("b5e0"),Object(c["a"])(v,r,a,!1,null,"408a5bc4",null));t["default"]=h.exports},"95d56":function(e,t,l){"use strict";l("b775")},b5e0:function(e,t,l){"use strict";var r=l("3f2d"),a=l.n(r);a.a},beb9:function(e,t,l){},d598:function(e,t,l){"use strict";var r=l("beb9"),a=l.n(r);a.a},f42c:function(e,t,l){"use strict";var r=l("ed08");t["a"]={data:function(){return{$_sidebarElm:null}},mounted:function(){var e=this;this.__resizeHandler=Object(r["a"])((function(){e.chart&&e.chart.resize()}),100),window.addEventListener("resize",this.__resizeHandler),this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},beforeDestroy:function(){window.removeEventListener("resize",this.__resizeHandler),this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)},methods:{$_sidebarResizeHandler:function(e){"width"===e.propertyName&&this.__resizeHandler()}}}}}]);